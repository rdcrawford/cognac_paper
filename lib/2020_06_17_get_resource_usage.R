# ------------------------------------------------------------------------------
# 
# 2020/02/05
# Ryan D. Crawford
# ------------------------------------------------------------------------------
# 
# ------------------------------------------------------------------------------

# ---- Load libraries ----------------------------------------------------------

library( genomeToolBox )

# ---- Variable initializations ------------------------------------------------

logFiles = system("ls 2020_06_02_run_cognac_for_genus_*.log", intern = TRUE )

# ---- Get the memory usage for the jobs --------------------------------------

jIds = sapply( logFiles, 
  function(x) gsub( "[.]log", '', strsplit(x, '-')[[1]][2] ) 
  )

resources = sapply( jIds, GetResourceUsage )
print( resources )
1048.66 * 1.5 + ( 1245 * 1 ) + ( 48 * 3.5 )
# ---- Save the data -----------------------------------------------------------

save( file = "../data/2020_06_17_get_resource_usage.Rdata", list = ls() )

# ------------------------------------------------------------------------------